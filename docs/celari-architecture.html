<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Celari Wallet â€” Mimari ve Teknik Sunum</title>
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --bg: #0a0a0f;
    --surface: #12121a;
    --surface2: #1a1a26;
    --border: #2a2a3a;
    --gold: #c9a84c;
    --gold-light: #e8d48b;
    --text: #e8e8f0;
    --text-dim: #8888a0;
    --accent: #6366f1;
    --green: #22c55e;
    --red: #ef4444;
    --blue: #3b82f6;
  }

  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.7;
    padding: 0;
  }

  /* Print styles */
  @media print {
    body { background: white; color: #111; }
    .slide { break-after: page; box-shadow: none; border: 1px solid #ddd; }
    :root { --bg: #fff; --surface: #f8f8f8; --surface2: #f0f0f0; --border: #ddd; --text: #111; --text-dim: #666; }
  }

  .slide {
    max-width: 960px;
    margin: 40px auto;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 48px;
    position: relative;
    overflow: hidden;
  }

  .slide::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--gold), var(--accent), var(--gold));
  }

  .slide-number {
    position: absolute;
    top: 16px;
    right: 24px;
    font-size: 12px;
    color: var(--text-dim);
    font-weight: 500;
  }

  h1 {
    font-size: 36px;
    font-weight: 800;
    background: linear-gradient(135deg, var(--gold), var(--gold-light));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 8px;
  }

  h2 {
    font-size: 28px;
    font-weight: 700;
    color: var(--gold);
    margin-bottom: 24px;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--border);
  }

  h3 {
    font-size: 20px;
    font-weight: 600;
    color: var(--gold-light);
    margin: 24px 0 12px;
  }

  .subtitle {
    font-size: 18px;
    color: var(--text-dim);
    margin-bottom: 32px;
  }

  p { margin-bottom: 16px; }

  .grid-2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin: 20px 0;
  }

  .grid-3 {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 16px;
    margin: 20px 0;
  }

  .card {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
  }

  .card-title {
    font-size: 14px;
    font-weight: 600;
    color: var(--gold);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 8px;
  }

  .card-value {
    font-size: 24px;
    font-weight: 700;
  }

  .badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
  }

  .badge-gold { background: rgba(201, 168, 76, 0.15); color: var(--gold); }
  .badge-green { background: rgba(34, 197, 94, 0.15); color: var(--green); }
  .badge-red { background: rgba(239, 68, 68, 0.15); color: var(--red); }
  .badge-blue { background: rgba(59, 130, 246, 0.15); color: var(--blue); }

  ul { padding-left: 24px; margin: 12px 0; }
  li { margin: 6px 0; }

  .code-block {
    background: #0d0d15;
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px;
    font-family: 'JetBrains Mono', 'Fira Code', monospace;
    font-size: 13px;
    overflow-x: auto;
    margin: 16px 0;
    white-space: pre;
    line-height: 1.5;
  }

  .highlight { color: var(--gold); font-weight: 600; }

  .flow-step {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    margin: 16px 0;
  }

  .flow-num {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--gold), #a08030);
    color: #000;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 14px;
    flex-shrink: 0;
  }

  .flow-content { flex: 1; }
  .flow-content strong { color: var(--gold-light); }

  .mermaid {
    background: var(--surface2);
    border-radius: 12px;
    padding: 20px;
    margin: 20px 0;
    text-align: center;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin: 16px 0;
  }

  th, td {
    padding: 12px 16px;
    text-align: left;
    border-bottom: 1px solid var(--border);
  }

  th {
    color: var(--gold);
    font-weight: 600;
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .comparison-row td:first-child { font-weight: 600; color: var(--gold-light); }

  .warning-box {
    background: rgba(239, 68, 68, 0.08);
    border: 1px solid rgba(239, 68, 68, 0.25);
    border-radius: 12px;
    padding: 20px;
    margin: 16px 0;
  }

  .success-box {
    background: rgba(34, 197, 94, 0.08);
    border: 1px solid rgba(34, 197, 94, 0.25);
    border-radius: 12px;
    padding: 20px;
    margin: 16px 0;
  }

  .info-box {
    background: rgba(59, 130, 246, 0.08);
    border: 1px solid rgba(59, 130, 246, 0.25);
    border-radius: 12px;
    padding: 20px;
    margin: 16px 0;
  }

  .arrow { color: var(--gold); font-size: 20px; }

  footer {
    text-align: center;
    padding: 40px;
    color: var(--text-dim);
    font-size: 13px;
  }
</style>
</head>
<body>

<!-- ==================== SLIDE 1: COVER ==================== -->
<div class="slide">
  <span class="slide-number">01</span>
  <div style="text-align: center; padding: 40px 0;">
    <div style="font-size: 48px; margin-bottom: 16px;">â—‡</div>
    <h1 style="font-size: 48px;">CELARI WALLET</h1>
    <p class="subtitle">Mimari ve Teknik Sunum</p>
    <div style="margin: 32px 0;">
      <span class="badge badge-gold">Aztec Network</span>
      <span class="badge badge-green">WebAuthn / Passkey</span>
      <span class="badge badge-blue">Chrome Extension</span>
    </div>
    <p style="color: var(--text-dim); font-size: 14px; margin-top: 40px;">
      Versiyon 0.3.0 Â· Åubat 2026 Â· Testnet
    </p>
  </div>
</div>

<!-- ==================== SLIDE 2: OVERVIEW ==================== -->
<div class="slide">
  <span class="slide-number">02</span>
  <h2>Proje Ã–zeti</h2>

  <p>Celari Wallet, <span class="highlight">Aztec Network</span> Ã¼zerinde Ã§alÄ±ÅŸan gizlilik odaklÄ± bir kripto cÃ¼zdandÄ±r.
  Geleneksel seed phrase yerine <span class="highlight">WebAuthn/Passkey</span> (biyometrik kimlik doÄŸrulama) kullanÄ±r.</p>

  <div class="grid-3">
    <div class="card">
      <div class="card-title">Kimlik DoÄŸrulama</div>
      <div class="card-value">Passkey</div>
      <p style="font-size: 13px; color: var(--text-dim); margin-top: 8px;">Face ID, Touch ID, Windows Hello. Seed phrase yok.</p>
    </div>
    <div class="card">
      <div class="card-title">Blockchain</div>
      <div class="card-value">Aztec L2</div>
      <p style="font-size: 13px; color: var(--text-dim); margin-top: 8px;">ZK rollup, Ethereum Sepolia Ã¼zerinde. Gizli transferler.</p>
    </div>
    <div class="card">
      <div class="card-title">Platform</div>
      <div class="card-value">Chrome Ext.</div>
      <p style="font-size: 13px; color: var(--text-dim); margin-top: 8px;">Manifest V3. Service worker + popup UI.</p>
    </div>
  </div>

  <h3>Temel BileÅŸenler</h3>
  <table>
    <tr><th>BileÅŸen</th><th>Teknoloji</th><th>AÃ§Ä±klama</th></tr>
    <tr><td>Chrome Extension</td><td>Vanilla JS, esbuild</td><td>KullanÄ±cÄ± arayÃ¼zÃ¼ + cÃ¼zdan yÃ¶netimi</td></tr>
    <tr><td>Deploy Server</td><td>Node.js, TypeScript</td><td>Hesap deploy + token iÅŸlemleri</td></tr>
    <tr><td>Noir Contract</td><td>Noir (Aztec ZK DSL)</td><td>P256 imza doÄŸrulama on-chain</td></tr>
    <tr><td>PXE (Private eXecution)</td><td>Aztec SDK</td><td>Proof Ã¼retimi + private state yÃ¶netimi</td></tr>
  </table>
</div>

<!-- ==================== SLIDE 3: ARCHITECTURE DIAGRAM ==================== -->
<div class="slide">
  <span class="slide-number">03</span>
  <h2>Genel Mimari</h2>

  <div class="mermaid">
graph TB
    subgraph "KullanÄ±cÄ± TarafÄ±"
        A["ğŸ–¥ï¸ Chrome Extension<br/>(Popup + Background)"]
        B["ğŸ” WebAuthn<br/>Secure Enclave"]
    end

    subgraph "Sunucu TarafÄ±"
        C["âš™ï¸ Deploy Server<br/>(Node.js + PXE)"]
        D["ğŸ“¦ SponsoredFPC<br/>(Ãœcretsiz Gas)"]
    end

    subgraph "Aztec Network (Testnet)"
        E["ğŸ”— RPC Node<br/>rpc.testnet.aztec-labs.com"]
        F["ğŸ“œ CelariPasskeyAccount<br/>(Noir Contract)"]
        G["ğŸª™ CLR Token<br/>(ERC20-like)"]
    end

    subgraph "L1 Ethereum (Sepolia)"
        H["â›“ï¸ Rollup Contract<br/>Proof Verification"]
    end

    A -->|"Passkey oluÅŸtur"| B
    A -->|"HTTP API"| C
    C -->|"JSON-RPC"| E
    C -->|"Deploy tx"| F
    C -->|"Mint/Transfer"| G
    D -->|"Gas sponsor"| E
    E -->|"ZK Proof"| H
    B -->|"P256 imza"| A
  </div>

  <div class="info-box">
    <strong>Veri AkÄ±ÅŸÄ±:</strong> KullanÄ±cÄ± extension Ã¼zerinden iÅŸlem yapar â†’ Deploy server PXE ile proof Ã¼retir â†’
    Aztec node'a gÃ¶nderir â†’ ZK proof L1'de doÄŸrulanÄ±r.
  </div>
</div>

<!-- ==================== SLIDE 4: EXTENSION ARCHITECTURE ==================== -->
<div class="slide">
  <span class="slide-number">04</span>
  <h2>Chrome Extension Mimarisi</h2>

  <div class="mermaid">
graph LR
    subgraph "Extension (Manifest V3)"
        P["popup.js<br/>36.6kb<br/>Ana UI"]
        BG["background.js<br/>5kb<br/>Service Worker"]
        CS["content.js<br/>923b<br/>dApp kÃ¶prÃ¼sÃ¼"]
        IP["inpage.js<br/>1.2kb<br/>window.celari"]
    end

    P -->|"chrome.runtime<br/>message"| BG
    BG -->|"chrome.tabs<br/>message"| CS
    CS -->|"window.postMessage"| IP
    IP -->|"Provider API"| WEB["ğŸŒ dApp"]
  </div>

  <div class="grid-2">
    <div class="card">
      <div class="card-title">popup.js â€” Ana ArayÃ¼z</div>
      <ul style="font-size: 14px;">
        <li>Single-page React-benzeri state yÃ¶netimi</li>
        <li>Ekranlar: welcome, create, import, dashboard, send, receive, settings</li>
        <li>Demo / GerÃ§ek hesap ayrÄ±mÄ± (<code>isDemo()</code>)</li>
        <li>Deploy server'a HTTP istekleri</li>
        <li>WebAuthn passkey oluÅŸturma + doÄŸrulama</li>
      </ul>
    </div>
    <div class="card">
      <div class="card-title">background.js â€” Service Worker</div>
      <ul style="font-size: 14px;">
        <li>PXE baÄŸlantÄ± kontrolÃ¼ (30sn aralÄ±kla)</li>
        <li>Hesap yÃ¶netimi (chrome.storage.local)</li>
        <li>dApp imza onay akÄ±ÅŸÄ± (pendingSignRequests)</li>
        <li>Network seÃ§imi (local/devnet/testnet)</li>
        <li>JSON-RPC ile node iletiÅŸimi</li>
      </ul>
    </div>
  </div>

  <h3>Dosya YapÄ±sÄ±</h3>
  <div class="code-block">extension/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ manifest.json          # MV3 manifest
â”‚   â”œâ”€â”€ popup.html             # Ana HTML
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/popup.js     # Ana UI (36.6kb)
â”‚   â”‚   â”œâ”€â”€ background.js      # Service worker (5kb)
â”‚   â”‚   â”œâ”€â”€ content.js         # dApp kÃ¶prÃ¼sÃ¼
â”‚   â”‚   â””â”€â”€ inpage.js          # window.celari provider
â”‚   â”œâ”€â”€ icons/                 # Extension ikonlarÄ±
â”‚   â””â”€â”€ fonts/                 # Self-hosted fontlar
â”œâ”€â”€ build.mjs                  # esbuild yapÄ±landÄ±rmasÄ±
â””â”€â”€ dist/                      # Derlenen Ã§Ä±ktÄ±</div>
</div>

<!-- ==================== SLIDE 5: ACCOUNT CREATION FLOW ==================== -->
<div class="slide">
  <span class="slide-number">05</span>
  <h2>Hesap OluÅŸturma AkÄ±ÅŸÄ±</h2>

  <div class="mermaid">
sequenceDiagram
    participant U as ğŸ‘¤ KullanÄ±cÄ±
    participant E as ğŸ–¥ï¸ Extension
    participant W as ğŸ” WebAuthn
    participant S as âš™ï¸ Deploy Server
    participant PXE as ğŸ“¦ PXE
    participant AZ as ğŸ”— Aztec Node

    U->>E: "Create Wallet" tÄ±kla
    E->>W: navigator.credentials.create()
    W->>U: Biyometrik istem (Face ID)
    U->>W: Onay âœ“
    W->>E: P256 Public Key (x, y) + credentialId

    Note over E: Extension public key'i saklar<br/>(chrome.storage.local)

    U->>E: "Deploy" tÄ±kla
    E->>S: POST /api/deploy
    Note over S: Server kendi P256<br/>key pair Ã¼retir

    S->>PXE: CelariPasskeyAccount oluÅŸtur
    PXE->>PXE: ZK Proof Ã¼ret (~30sn)
    PXE->>AZ: Deploy tx gÃ¶nder
    AZ-->>PXE: Block onayÄ±
    PXE-->>S: Tx receipt
    S-->>E: {address, txHash, blockNumber}
    E-->>U: "Account deployed!" âœ…
  </div>

  <div class="warning-box">
    <strong>âš ï¸ Testnet KÄ±sÄ±tlamasÄ±:</strong> Åu an deploy server kendi P256 key pair'i Ã¼retiyor (CLI private key ile imzalama).
    Production'da kullanÄ±cÄ±nÄ±n kendi WebAuthn anahtarÄ± ile deploy edilmeli.
  </div>

  <h3>WebAuthn Passkey DetaylarÄ±</h3>
  <div class="grid-2">
    <div class="card">
      <div class="card-title">OluÅŸturma (Create)</div>
      <div class="code-block" style="font-size: 12px;">navigator.credentials.create({
  publicKey: {
    rp: { name: "Celari Wallet" },
    user: { name: "celari-user-..." },
    pubKeyCredParams: [
      { alg: -7, type: "public-key" }
      // ES256 = ECDSA P-256
    ],
    authenticatorSelection: {
      residentKey: "preferred"
    }
  }
})</div>
    </div>
    <div class="card">
      <div class="card-title">Ä°mzalama (Sign)</div>
      <div class="code-block" style="font-size: 12px;">navigator.credentials.get({
  publicKey: {
    challenge: messageHash,
    rpId: location.hostname,
    allowCredentials: [{
      type: "public-key",
      id: credentialId
    }],
    userVerification: "required"
  }
})
// â†’ P256 signature (r || s)</div>
    </div>
  </div>
</div>

<!-- ==================== SLIDE 6: NOIR CONTRACT ==================== -->
<div class="slide">
  <span class="slide-number">06</span>
  <h2>Noir AkÄ±llÄ± Kontrat</h2>
  <p class="subtitle">CelariPasskeyAccount â€” P256 Ä°mza DoÄŸrulama on ZK</p>

  <div class="mermaid">
graph TD
    A["Transaction Request"] --> B["entrypoint()"]
    B --> C["AccountActions.init()"]
    C --> D["is_valid_impl()"]
    D --> E["storage.signing_public_key.get_note()"]
    D --> F["get_auth_witness(outer_hash)"]
    E --> G["pub_key_x, pub_key_y"]
    F --> H["signature (64 bytes)"]
    G --> I["sha256(outer_hash_bytes)"]
    H --> I
    I --> J["ecdsa_secp256r1.verify_signature()"]
    J -->|"âœ… Valid"| K["Transaction Executes"]
    J -->|"âŒ Invalid"| L["Revert"]
  </div>

  <h3>Kontrat FonksiyonlarÄ±</h3>
  <table>
    <tr><th>Fonksiyon</th><th>GÃ¶rÃ¼nÃ¼rlÃ¼k</th><th>AÃ§Ä±klama</th></tr>
    <tr><td><code>constructor(pub_key_x, pub_key_y)</code></td><td>Private</td><td>P256 public key'i private storage'a kaydeder</td></tr>
    <tr><td><code>entrypoint(app_payload, ...)</code></td><td>Private</td><td>Ä°ÅŸlem giriÅŸ noktasÄ± â€” auth witness ile doÄŸrulama</td></tr>
    <tr><td><code>verify_private_authwit(inner_hash)</code></td><td>Private/View</td><td>Delegated yetkilendirme doÄŸrulama</td></tr>
    <tr><td><code>is_valid_impl(context, outer_hash)</code></td><td>Internal</td><td>P256 ECDSA imza doÄŸrulama (ZK iÃ§inde)</td></tr>
  </table>

  <h3>Ä°mza DoÄŸrulama SÃ¼reci</h3>
  <div class="code-block" style="font-size: 12px;">// 1. Public key'i private storage'dan oku
let public_key = storage.signing_public_key.get_note();

// 2. Auth witness'tan 64-byte P256 imzayÄ± al
let witness: [Field; 64] = get_auth_witness(outer_hash);

// 3. outer_hash'i SHA-256 ile hashle (Aztec convention)
let hashed_message: [u8; 32] = sha256::digest(outer_hash_bytes);

// 4. P256 (secp256r1) ECDSA doÄŸrulama
std::ecdsa_secp256r1::verify_signature(
    pub_key_x, pub_key_y, signature, hashed_message
)</div>
</div>

<!-- ==================== SLIDE 7: DEPLOY SERVER ==================== -->
<div class="slide">
  <span class="slide-number">07</span>
  <h2>Deploy Server</h2>
  <p class="subtitle">Hesap deploy, bakiye sorgulama, token transfer</p>

  <div class="grid-2">
    <div class="card">
      <div class="card-title">Sunucu Bilgileri</div>
      <ul style="font-size: 14px;">
        <li><strong>Adres:</strong> 139.99.149.238:3456</li>
        <li><strong>Runtime:</strong> Node.js + tsx</li>
        <li><strong>Process Manager:</strong> PM2</li>
        <li><strong>OS:</strong> Ubuntu 24.04, 64GB RAM</li>
        <li><strong>Auto-restart:</strong> pm2 startup</li>
      </ul>
    </div>
    <div class="card">
      <div class="card-title">BileÅŸenler</div>
      <ul style="font-size: 14px;">
        <li><strong>TestWallet:</strong> PXE + proof engine</li>
        <li><strong>SponsoredFPC:</strong> Ãœcretsiz gas</li>
        <li><strong>Schnorr Admin:</strong> Token mint yetkisi</li>
        <li><strong>CLR Token:</strong> Test token (ERC20)</li>
      </ul>
    </div>
  </div>

  <h3>API Endpoints</h3>
  <table>
    <tr><th>Endpoint</th><th>Method</th><th>AÃ§Ä±klama</th><th>SÃ¼re</th></tr>
    <tr><td><code>/api/health</code></td><td>GET</td><td>Sunucu durumu + PXE baÄŸlantÄ±sÄ±</td><td>~1ms</td></tr>
    <tr><td><code>/api/deploy</code></td><td>POST</td><td>Yeni CelariPasskeyAccount deploy et</td><td>~2-3 dk</td></tr>
    <tr><td><code>/api/balances</code></td><td>POST</td><td>Token bakiyelerini sorgula</td><td>~1-5 sn</td></tr>
    <tr><td><code>/api/transfer</code></td><td>POST</td><td>Token transfer (mint) yap</td><td>~1-2 dk</td></tr>
  </table>

  <div class="mermaid">
sequenceDiagram
    participant E as Extension
    participant S as Deploy Server
    participant PXE as PXE Engine
    participant N as Aztec Node

    Note over S: BaÅŸlangÄ±Ã§ta PXE + SponsoredFPC<br/>otomatik initialize edilir

    E->>S: POST /api/deploy
    S->>S: P256 key pair Ã¼ret
    S->>PXE: CelariPasskeyAccount oluÅŸtur
    PXE->>PXE: ClientIVC proof (~30sn)
    PXE->>N: Tx gÃ¶nder
    N-->>PXE: Block onayÄ±
    S-->>E: {address, txHash, ...}

    E->>S: POST /api/transfer {to, amount}
    S->>S: setupTransferInfra() (ilk seferde)
    S->>PXE: mint_to_public(to, amount)
    PXE->>PXE: Proof Ã¼ret
    PXE->>N: Tx gÃ¶nder
    N-->>PXE: Block onayÄ±
    S-->>E: {txHash, blockNumber}
  </div>
</div>

<!-- ==================== SLIDE 8: TOKEN TRANSFER FLOW ==================== -->
<div class="slide">
  <span class="slide-number">08</span>
  <h2>Token Transfer AkÄ±ÅŸÄ±</h2>

  <div class="flow-step">
    <div class="flow-num">1</div>
    <div class="flow-content">
      <strong>KullanÄ±cÄ± "Send" tÄ±klar</strong>
      <p style="font-size: 14px;">AlÄ±cÄ± adresi ve miktar girer. Token seÃ§imi yapÄ±lÄ±r (CLR).</p>
    </div>
  </div>

  <div class="flow-step">
    <div class="flow-num">2</div>
    <div class="flow-content">
      <strong>Passkey DoÄŸrulama</strong>
      <p style="font-size: 14px;">navigator.credentials.get() ile biyometrik doÄŸrulama. KullanÄ±cÄ± Face ID / parmak izi onaylar.</p>
    </div>
  </div>

  <div class="flow-step">
    <div class="flow-num">3</div>
    <div class="flow-content">
      <strong>Deploy Server'a Ä°stek</strong>
      <p style="font-size: 14px;">POST /api/transfer â€” {from, to, amount, tokenAddress} gÃ¶nderilir.</p>
    </div>
  </div>

  <div class="flow-step">
    <div class="flow-num">4</div>
    <div class="flow-content">
      <strong>Transfer AltyapÄ±sÄ± Kurulumu (ilk seferde)</strong>
      <p style="font-size: 14px;">setupTransferInfra(): Schnorr admin hesabÄ± + CLR token deploy edilir. Bilgiler .celari-admin.json'a kaydedilir.</p>
    </div>
  </div>

  <div class="flow-step">
    <div class="flow-num">5</div>
    <div class="flow-content">
      <strong>Mint (Testnet yaklaÅŸÄ±mÄ±)</strong>
      <p style="font-size: 14px;">Admin hesabÄ± mint_to_public(alÄ±cÄ±, miktar) Ã§aÄŸÄ±rÄ±r. SponsoredFPC ile gas Ã¼cretsiz.</p>
    </div>
  </div>

  <div class="flow-step">
    <div class="flow-num">6</div>
    <div class="flow-content">
      <strong>Blockchain OnayÄ±</strong>
      <p style="font-size: 14px;">PXE proof Ã¼retir (~20-30sn), tx gÃ¶nderilir, ~30sn blok onayÄ±. Extension'a sonuÃ§ dÃ¶ner.</p>
    </div>
  </div>

  <div class="warning-box">
    <strong>Neden mint_to_public?</strong><br/>
    Testnet'te server kullanÄ±cÄ±nÄ±n private key'ine sahip deÄŸil â†’ transfer_in_public Ã§aÄŸÄ±ramaz.
    Pragmatik Ã§Ã¶zÃ¼m: admin hesabÄ± ile alÄ±cÄ±ya mint. Mainnet'te kullanÄ±cÄ± kendi wallet'Ä±ndan imza atacak.
  </div>
</div>

<!-- ==================== SLIDE 9: SECURITY ==================== -->
<div class="slide">
  <span class="slide-number">09</span>
  <h2>GÃ¼venlik Mimarisi</h2>

  <div class="grid-2">
    <div class="card">
      <div class="card-title">âœ… Mevcut Ã–nlemler</div>
      <ul style="font-size: 14px;">
        <li><strong>WebAuthn/Passkey:</strong> Private key cihazdan Ã§Ä±kmaz</li>
        <li><strong>CORS whitelist:</strong> Sadece extension origin</li>
        <li><strong>XSS korumasÄ±:</strong> textContent ile DOM injection engeli</li>
        <li><strong>Input validation:</strong> Adres ve miktar doÄŸrulama</li>
        <li><strong>CSP:</strong> script-src 'self' + wasm-unsafe-eval</li>
        <li><strong>Sender doÄŸrulama:</strong> chrome.runtime.id kontrolÃ¼</li>
        <li><strong>Self-hosted fonts:</strong> Google Fonts yerine lokal</li>
        <li><strong>Biyometrik onay:</strong> Her transferde Face ID</li>
      </ul>
    </div>
    <div class="card">
      <div class="card-title">âš ï¸ Testnet KÄ±sÄ±tlamalarÄ±</div>
      <ul style="font-size: 14px;">
        <li><strong>Server-side key:</strong> Deploy server P256 Ã¼retiyor</li>
        <li><strong>Mint yaklaÅŸÄ±mÄ±:</strong> Transfer yerine admin mint</li>
        <li><strong>Tek admin:</strong> TÃ¼m mint yetkileri tek hesapta</li>
        <li><strong>HTTP:</strong> TLS/HTTPS henÃ¼z yok</li>
        <li><strong>Rate limiting:</strong> HenÃ¼z uygulanmadÄ±</li>
        <li><strong>secretKey aÃ§Ä±k:</strong> Deploy result'ta secretKey</li>
      </ul>
    </div>
  </div>

  <h3>Kriptografik AkÄ±ÅŸ</h3>
  <div class="mermaid">
graph LR
    A["P256 Key Pair<br/>(Secure Enclave)"] -->|"Public Key"| B["Noir Contract<br/>(on-chain)"]
    A -->|"Private Key"| C["WebAuthn Sign<br/>(cihazda)"]
    C -->|"P256 Signature"| D["Auth Witness<br/>(64 bytes)"]
    D -->|"ZK Circuit"| E["ecdsa_secp256r1<br/>verify_signature"]
    E -->|"âœ…"| F["Transaction OK"]
  </div>
</div>

<!-- ==================== SLIDE 10: MAINNET ROADMAP ==================== -->
<div class="slide">
  <span class="slide-number">10</span>
  <h2>Mainnet'e GeÃ§iÅŸ Stratejisi</h2>

  <h3>Faz 1: AltyapÄ± DeÄŸiÅŸiklikleri</h3>
  <div class="grid-2">
    <div class="card">
      <div class="card-title">Deploy Server DÃ¶nÃ¼ÅŸÃ¼mÃ¼</div>
      <ul style="font-size: 14px;">
        <li><strong>KullanÄ±cÄ± key pair'i:</strong> Extension'dan gelen public key ile deploy</li>
        <li><strong>Auth witness:</strong> WebAuthn imzasÄ±nÄ± extension'dan al, server'a gÃ¶nder</li>
        <li><strong>GerÃ§ek transfer:</strong> mint yerine transfer_in_public / transfer_in_private</li>
        <li><strong>Ãœcret yÃ¶netimi:</strong> SponsoredFPC yerine kullanÄ±cÄ±nÄ±n kendi gas Ã¶demesi</li>
      </ul>
    </div>
    <div class="card">
      <div class="card-title">Extension DeÄŸiÅŸiklikleri</div>
      <ul style="font-size: 14px;">
        <li><strong>Client-side PXE:</strong> Proof Ã¼retimi extension'da (WASM)</li>
        <li><strong>GerÃ§ek imzalama:</strong> Her tx iÃ§in WebAuthn assertion</li>
        <li><strong>Fee estimation:</strong> Gas maliyet hesaplama + onay</li>
        <li><strong>Multi-token:</strong> Birden fazla token desteÄŸi</li>
      </ul>
    </div>
  </div>

  <h3>Faz 2: GÃ¼venlik SertleÅŸtirme</h3>
  <table>
    <tr><th>Konu</th><th>Testnet</th><th>Mainnet</th></tr>
    <tr class="comparison-row">
      <td>Key Generation</td>
      <td>Server-side P256</td>
      <td>Client-side WebAuthn (Secure Enclave)</td>
    </tr>
    <tr class="comparison-row">
      <td>Ä°mzalama</td>
      <td>CLI private key</td>
      <td>WebAuthn assertion (biyometrik)</td>
    </tr>
    <tr class="comparison-row">
      <td>Transfer</td>
      <td>Admin mint_to_public</td>
      <td>KullanÄ±cÄ± transfer_in_public / transfer_in_private</td>
    </tr>
    <tr class="comparison-row">
      <td>Gas</td>
      <td>SponsoredFPC (Ã¼cretsiz)</td>
      <td>KullanÄ±cÄ± Ã¶der (ETH/token)</td>
    </tr>
    <tr class="comparison-row">
      <td>Deploy Server</td>
      <td>Merkezi (tek VPS)</td>
      <td>Decentralized relay veya tamamen client-side</td>
    </tr>
    <tr class="comparison-row">
      <td>Ä°letiÅŸim</td>
      <td>HTTP</td>
      <td>HTTPS + API key + rate limiting</td>
    </tr>
  </table>

  <h3>Faz 3: Merkezi Olmayan Mimari</h3>
  <div class="mermaid">
graph TB
    subgraph "Mainnet Hedef Mimari"
        A["Extension<br/>(Client-side PXE + WASM)"]
        B["WebAuthn<br/>(Secure Enclave)"]
        C["Aztec Node<br/>(Public RPC)"]
        D["Ethereum Mainnet<br/>(L1 Settlement)"]
    end

    A -->|"Biyometrik imza"| B
    B -->|"P256 signature"| A
    A -->|"Proof + Tx"| C
    C -->|"ZK Rollup"| D

    style A fill:#1a1a26,stroke:#c9a84c,color:#e8e8f0
    style B fill:#1a1a26,stroke:#22c55e,color:#e8e8f0
    style C fill:#1a1a26,stroke:#3b82f6,color:#e8e8f0
    style D fill:#1a1a26,stroke:#6366f1,color:#e8e8f0
  </div>

  <div class="success-box">
    <strong>Anahtar Avantaj:</strong> Client-side PXE ile deploy server'a ihtiyaÃ§ kalmaz.
    Extension, WASM Ã¼zerinden doÄŸrudan proof Ã¼retip Aztec node'a gÃ¶nderir.
    Tamamen merkezi olmayan, censorship-resistant mimari.
  </div>
</div>

<!-- ==================== SLIDE 11: MAINNET CHECKLIST ==================== -->
<div class="slide">
  <span class="slide-number">11</span>
  <h2>Mainnet Checklist</h2>

  <h3>Kritik (Lansman Ã–ncesi)</h3>
  <div style="margin: 16px 0;">
    <div class="flow-step">
      <div class="flow-num" style="background: var(--red);">!</div>
      <div class="flow-content">
        <strong>Client-side proof generation</strong>
        <p style="font-size: 14px;">PXE'yi extension iÃ§inde WASM olarak Ã§alÄ±ÅŸtÄ±r. Deploy server baÄŸÄ±mlÄ±lÄ±ÄŸÄ±nÄ± kaldÄ±r.</p>
      </div>
    </div>
    <div class="flow-step">
      <div class="flow-num" style="background: var(--red);">!</div>
      <div class="flow-content">
        <strong>GerÃ§ek WebAuthn imzalama</strong>
        <p style="font-size: 14px;">Her transaction iÃ§in kullanÄ±cÄ±nÄ±n kendi passkey'i ile imza. Server-side key Ã¼retimi kaldÄ±rÄ±lmalÄ±.</p>
      </div>
    </div>
    <div class="flow-step">
      <div class="flow-num" style="background: var(--red);">!</div>
      <div class="flow-content">
        <strong>Gas fee yÃ¶netimi</strong>
        <p style="font-size: 14px;">SponsoredFPC mainnet'te olmayacak. KullanÄ±cÄ± gas Ã¶deme akÄ±ÅŸÄ± (fee estimation + onay).</p>
      </div>
    </div>
    <div class="flow-step">
      <div class="flow-num" style="background: var(--red);">!</div>
      <div class="flow-content">
        <strong>GÃ¼venlik denetimi (Audit)</strong>
        <p style="font-size: 14px;">Noir kontrat + extension kodu profesyonel gÃ¼venlik denetiminden geÃ§meli.</p>
      </div>
    </div>
  </div>

  <h3>Ã–nemli (Lansmanda veya Hemen Sonra)</h3>
  <div style="margin: 16px 0;">
    <div class="flow-step">
      <div class="flow-num" style="background: var(--gold); color: #000;">2</div>
      <div class="flow-content">
        <strong>Multi-token desteÄŸi</strong>
        <p style="font-size: 14px;">Token registry, otomatik keÅŸif, bakiye gÃ¶sterimi.</p>
      </div>
    </div>
    <div class="flow-step">
      <div class="flow-num" style="background: var(--gold); color: #000;">2</div>
      <div class="flow-content">
        <strong>Private transfer desteÄŸi</strong>
        <p style="font-size: 14px;">transfer_in_private ile tam gizlilik. Aztec'in ana avantajÄ±.</p>
      </div>
    </div>
    <div class="flow-step">
      <div class="flow-num" style="background: var(--gold); color: #000;">2</div>
      <div class="flow-content">
        <strong>dApp entegrasyonu</strong>
        <p style="font-size: 14px;">window.celari provider'Ä± tam fonksiyonel hale getir. DeFi protokolleri ile etkileÅŸim.</p>
      </div>
    </div>
    <div class="flow-step">
      <div class="flow-num" style="background: var(--gold); color: #000;">2</div>
      <div class="flow-content">
        <strong>Account recovery</strong>
        <p style="font-size: 14px;">Passkey kaybolursa kurtarma mekanizmasÄ± (social recovery / backup key).</p>
      </div>
    </div>
  </div>

  <h3>Ä°yileÅŸtirme (Lansman SonrasÄ±)</h3>
  <div style="margin: 16px 0;">
    <div class="flow-step">
      <div class="flow-num" style="background: var(--green);">3</div>
      <div class="flow-content">
        <strong>Firefox + Safari desteÄŸi</strong>
        <p style="font-size: 14px;">Cross-browser extension. WebExtension API uyumluluÄŸu.</p>
      </div>
    </div>
    <div class="flow-step">
      <div class="flow-num" style="background: var(--green);">3</div>
      <div class="flow-content">
        <strong>Mobile uygulama</strong>
        <p style="font-size: 14px;">React Native / Flutter ile iOS + Android. Native passkey desteÄŸi.</p>
      </div>
    </div>
    <div class="flow-step">
      <div class="flow-num" style="background: var(--green);">3</div>
      <div class="flow-content">
        <strong>Fiat on/off ramp</strong>
        <p style="font-size: 14px;">MoonPay / Transak entegrasyonu. Kredi kartÄ± ile token alÄ±m.</p>
      </div>
    </div>
  </div>
</div>

<!-- ==================== SLIDE 12: TECH STACK SUMMARY ==================== -->
<div class="slide">
  <span class="slide-number">12</span>
  <h2>Teknoloji YÄ±ÄŸÄ±nÄ±</h2>

  <div class="grid-3">
    <div class="card" style="text-align: center;">
      <div style="font-size: 32px; margin-bottom: 8px;">ğŸ“œ</div>
      <div class="card-title">Smart Contract</div>
      <p style="font-size: 14px;"><strong>Noir</strong> (Aztec ZK DSL)</p>
      <p style="font-size: 12px; color: var(--text-dim);">P256 ECDSA doÄŸrulama<br/>ZK proof ile gizlilik</p>
    </div>
    <div class="card" style="text-align: center;">
      <div style="font-size: 32px; margin-bottom: 8px;">ğŸ–¥ï¸</div>
      <div class="card-title">Extension</div>
      <p style="font-size: 14px;"><strong>Vanilla JS</strong> + esbuild</p>
      <p style="font-size: 12px; color: var(--text-dim);">Chrome MV3<br/>WebAuthn API</p>
    </div>
    <div class="card" style="text-align: center;">
      <div style="font-size: 32px; margin-bottom: 8px;">âš™ï¸</div>
      <div class="card-title">Backend</div>
      <p style="font-size: 14px;"><strong>Node.js</strong> + TypeScript</p>
      <p style="font-size: 12px; color: var(--text-dim);">Aztec SDK / PXE<br/>PM2 process mgr</p>
    </div>
    <div class="card" style="text-align: center;">
      <div style="font-size: 32px; margin-bottom: 8px;">ğŸ”—</div>
      <div class="card-title">L2 Network</div>
      <p style="font-size: 14px;"><strong>Aztec</strong> (ZK Rollup)</p>
      <p style="font-size: 12px; color: var(--text-dim);">Sepolia testnet<br/>Privacy by default</p>
    </div>
    <div class="card" style="text-align: center;">
      <div style="font-size: 32px; margin-bottom: 8px;">â›“ï¸</div>
      <div class="card-title">L1 Settlement</div>
      <p style="font-size: 14px;"><strong>Ethereum</strong> (Sepolia)</p>
      <p style="font-size: 12px; color: var(--text-dim);">ZK proof verification<br/>Rollup contract</p>
    </div>
    <div class="card" style="text-align: center;">
      <div style="font-size: 32px; margin-bottom: 8px;">ğŸ”</div>
      <div class="card-title">Auth</div>
      <p style="font-size: 14px;"><strong>WebAuthn</strong> / FIDO2</p>
      <p style="font-size: 12px; color: var(--text-dim);">P256 (secp256r1)<br/>Biometric auth</p>
    </div>
  </div>

  <h3>Deployment Bilgileri (Testnet)</h3>
  <table>
    <tr><th>BileÅŸen</th><th>Adres / Lokasyon</th></tr>
    <tr><td>Deploy Server</td><td><code>http://139.99.149.238:3456</code></td></tr>
    <tr><td>Aztec RPC</td><td><code>https://rpc.testnet.aztec-labs.com</code></td></tr>
    <tr><td>SponsoredFPC</td><td><code>0x1586f476995be97f07eb...</code></td></tr>
    <tr><td>CLR Token</td><td><code>0x2397661193436307c99d...</code></td></tr>
    <tr><td>Admin Account</td><td><code>0x2051fcdb771a6082e5b2...</code></td></tr>
    <tr><td>L1 Chain</td><td>Ethereum Sepolia (Chain ID: 11155111)</td></tr>
  </table>
</div>

<!-- ==================== FOOTER ==================== -->
<footer>
  <div style="font-size: 24px; margin-bottom: 8px;">â—‡</div>
  <p><strong>Celari Wallet</strong> â€” Privacy-first super wallet for Aztec Network</p>
  <p style="margin-top: 8px;">Bu dokÃ¼man tarayÄ±cÄ±da aÃ§Ä±labilir veya PDF olarak kaydedilebilir (Ctrl/Cmd + P)</p>
  <p style="margin-top: 4px;">Åubat 2026 Â· v0.3.0</p>
</footer>

<script>
  mermaid.initialize({
    startOnLoad: true,
    theme: 'dark',
    themeVariables: {
      primaryColor: '#1a1a26',
      primaryBorderColor: '#c9a84c',
      primaryTextColor: '#e8e8f0',
      lineColor: '#c9a84c',
      secondaryColor: '#2a2a3a',
      tertiaryColor: '#12121a',
      fontFamily: 'Inter, sans-serif',
      fontSize: '13px',
      noteBkgColor: '#1a1a26',
      noteTextColor: '#e8e8f0',
      noteBorderColor: '#c9a84c',
      actorBkg: '#1a1a26',
      actorBorder: '#c9a84c',
      actorTextColor: '#e8e8f0',
      signalColor: '#c9a84c',
      signalTextColor: '#e8e8f0',
    }
  });
</script>
</body>
</html>
